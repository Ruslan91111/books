# books
Практика в Django, DjangoRestFramework, а также UnitTest.
В общих чертах: создание и настройка Django проекта, в том числе зависимости и Postgres. Модели, сериализаторы, endpoint. 
Тестирование запросов. Тестирования Сериализатора.Система аутентификации через Git. Permissions. Оптимизация запросок к БД. 
Отношения многие ко многим через класс. Кеширование полей. Аннотация, аггрегация.

Проект books.
В settings настройки на работу с Django, DjangoRestFramework, debug-toolbar, postgres, filters.

Приложение store. Минимальный функционал, а именно один ViewSet, просто выдача данных в JSON формате. 

models.py 
В приложении две модели. Первая - Book содержит данные о книге. Вторая - UserBookRelation содержит связи с пользователями и книгами, 
а также формы отношений: like, in_bookmarks, rate.
Также UserBookRelation содержит метод save, который создан для обновления и обращения к полю rate модели Book при необходимости. 
Цель метода - оптимизация запросов к базе данных. "Кеширование поля".
 
views.py
Два ViewSet. Первый BookViewSet - представление книг, содержит filter, search, ordering backends. 
Также содержит переопределенный метод perform_create - для присваивания owner во время создания книги.
UserBooksRelationView - представление для работы пользователя с лайками и рейтингами. Метод get_object, 
который или предоставляет объект отношений, или создает, если его нет. Работает с отношениями через id книги, а не id отношений.

serializers.py
Содержит три сериализатора.
BookReaderSerializer - для работы с пользователями, создан в учебных целях, для вложения словаря в словарь при выдаче данных в JSON формате.
BooksSerializer - среиализация книг. Помимо полей из модели Book добавляет поля: annotated_likes, rating, owner_name, 
readers - используется BookReaderSerializer.
UserBookRelationSerializer - сериализатор для работы пользователя с книгами(лайки, оценки).
 
permissions.py
Одно разрешение на основе базового разрешения - IsOwnerOrStaffOrReadOnly. Редактировать может только владелец или администрация, 
остальные только читать. Используется во View.

logic_rating.py
Простая функция устанавливает рейтинг.

tests
Использовались UnitTest, cover, htmlcov. Тестироваля функционал, сериализатор, работа logic_rating.
test_serializer.py Тест сериализатора, проверяется возврат работы сериализатора.
test_api.py Тестируется API запросов.  





